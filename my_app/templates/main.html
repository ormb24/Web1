<html>
    <head>
        <title>Vicious Clues</title>
        <!-- Bootstrap core CSS -->
        <link href="/static/css/bootstrap.min.css" rel="stylesheet">
        <link href="/static/css/my.css" rel="stylesheet">
    </head>
    <body>
        <nav class="navbar navbar-expand-md navbar-light bg-dark fixed-top">
            <ul class="nav nav-pills">
                <li class="nav-item">
                    {% if current_user.is_authenticated %}
                        <a class="nav-link" href="/logout" style="color:red">Log Out</a>
                    {% else %}
                        <a class="nav-link" href="/login" style="color:red">Log In</a>
                    {% endif %}
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/liste">Liste des énigmes</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/kamoulox">Créer une énigme</a>
                </li>
                 <li class="nav-item">
                    <a class="nav-link" href="/infos">Infos</a>
                </li>

            </ul>
        </nav>

        <div class="container" style="margin-top: 60px">
            <!-- Error messages in forms -->
            {% if form is defined and form.errors is defined %}
                {% set count =0 %}
                {% for field, errors in form.errors.items() %}
                    {% set count = count+1 %}
                    <div class="alert alert-danger" id="formValidationError_{{ count }}">
                        <button type="button" class="close" onClick="showHide('formValidationError_{{ count }}')">&times;</button>
                        {{ form[field].label }} {{ ' : '.join(errors) }}
                    </div>
                {% endfor %}
            {% endif %}
            <!-- Flash messages : colored by category, with a 'close' button to hide them  -->
            {% with messages = get_flashed_messages(with_categories=true, category_filter=['Info','Success','Warning','Danger']) %}
            {% if messages %}
                {% set count = 0 %}
                {% for category,message in messages %}
                    {% set count = count +1 %}
                    <div class="alert alert-{{ category }}" id="alert{{ category }}_{{ count }}">
                        <button type="button" class="close" onClick="showHide('alert{{ category }}_{{ count }}')">&times;</button>
                        {{ category }} : {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
            {% endwith %}

            <!-- Body block -->
            {% block body %}{% endblock %}
        </div>

        <footer class="container" style="margin-top:30px">
            {% block footer %}{% endblock %}
        </footer>

        <script src="/static/js/jquery-3.6.3.min.js"></script>
        <script src="/static/js/bootstrap.min.js"></script>
        <script src="/static/js/my.js"></script>
    </body>
</html>